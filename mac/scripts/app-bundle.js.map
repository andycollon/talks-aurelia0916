{"version":3,"sources":["app.js","environment.js","main.js","resources/drag-and-drop.js","resources/events.js","resources/index.js","resources/dialogs/game-complete.js","resources/elements/score.js","routes/game/game.js","routes/home/home.js","routes/scores/scores.js","resources/elements/game-state/game-state.js","resources/elements/picture/picture.js","resources/elements/picture/piece.js","routes/game/aside/aside.js","routes/game/grid/grid.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/ai-dialog.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/ai-dialog-header.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/dialog-controller.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/lifecycle.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/dialog-result.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/ai-dialog-body.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/ai-dialog-footer.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/attach-focus.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/dialog-configuration.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/renderer.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/dialog-renderer.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/dialog-options.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/node_modules/aurelia-dialog/dist/amd/dialog-service.js","resources/elements/puzzle/puzzle.js","resources/score-counter.js","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/app.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/styles/main.css","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/resources/dialogs/game-complete.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/resources/elements/nav-bar.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/routes/home/home.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/routes/game/game.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/routes/scores/scores.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/resources/elements/picture/picture.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/resources/elements/picture/piece-view.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/resources/elements/picture/piece.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/routes/game/aside/aside.html","/Users/andycollon/Dropbox/Development/Javascript/aurelia/0916/au-puzzle/src/routes/game/grid/grid.html"],"names":["App","configureRouter","config","router","title","options","pushState","map","route","name","moduleId","nav","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","plugin","useDefaults","settings","lock","developmentLogging","start","then","setRoot","DragAndDrop","eventAggregator","disabled","drake","isContainer","el","classList","contains","revertOnSpill","trackDrop","on","target","source","sibling","from","to","attributes","value","console","log","publish","cancel","PicturePiecePositionChangedEvent","PicturePiecesCorrectEvent","globalResources","GameComplete","controller","score","activate","Score","playerName","total","Game","puzzle","dialogService","scoreCounter","params","routeConfig","navModel","attached","subscriber","subscribe","grid","completeGame","open","viewModel","model","response","wasCancelled","output","scores","push","detached","dispose","Home","Scores","GameState","numberOfSeconds","numberOfMoves","currentPlayer","Picture","rows","columns","pieces","numberOfCorrectPieces","mainImage","i","j","shufflePieces","temp","length","Math","floor","random","indexPieces","movePieces","arraymove","p","actualIndex","filter","properIndex","picturePiecesComplete","arr","fromIndex","toIndex","element","splice","Piece","row","column","imageName","Aside","Grid","dragAndDrop","secondsElapsed","gameCompleted","setInterval","changed","Puzzle","aggregator","picture","m","indexOf","parseInt","ScoreCounter"],"mappings":"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L,CAAgBa,OAAhB;AACH;;;;;;;;ACnCL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;QC9Ga6C,iBAAAA,iBADZ;AAGG,wBAAYC,UAAZ,EAAuB;AAAA;;AACnB,iBAAKlG,eAAL,GAAuBkG,UAAvB;AACA,iBAAKC,OAAL,GAAe,qBAAY,cAAZ,EAA2B,CAA3B,EAA6B,CAA7B,CAAf;AACH;;yBAEDzB,mCAA6B;AAAA,gBAAlB7D,IAAkB,yDAAX,CAAC,CAAU;AAAA,gBAARC,EAAQ,yDAAH,CAAC,CAAE;;;AAEzB,gBAAID,OAAO,CAAP,IAAYC,KAAK,CAArB,EAAwB;;AAExB,gBAAID,OAAO,CAAC,CAAZ,EAAc;AACVA,uBAAO,KAAKsF,OAAL,CAAarC,MAAb,CAAoBtF,GAApB,CAAwB;AAAA,2BAAK4H,EAAEvB,WAAP;AAAA,iBAAxB,EAA4CwB,OAA5C,CAAoDC,SAASzF,IAAT,EAAc,EAAd,CAApD,CAAP;AACH;;AAED,gBAAIC,KAAK,CAAC,CAAV,EAAY;AACRA,qBAAK,KAAKqF,OAAL,CAAarC,MAAb,CAAoBtF,GAApB,CAAwB;AAAA,2BAAK4H,EAAEvB,WAAP;AAAA,iBAAxB,EAA4CwB,OAA5C,CAAoDC,SAASxF,EAAT,EAAY,EAAZ,CAApD,CAAL;AACH;;AAED,gBAAIA,OAAO,CAAC,CAAZ,EAAc;AACVA,qBAAK,KAAKqF,OAAL,CAAarC,MAAb,CAAoBO,MAApB,GAA6B,CAAlC;AACH,aAFD,MAEO,IAAIvD,KAAK,CAAL,IAAUA,KAAKD,IAAnB,EAAyB;AAC5BC,qBAAKA,KAAI,CAAT;AACH;;AAED,iBAAKqF,OAAL,CAAazB,UAAb,CAAwB7D,IAAxB,EAA6BC,EAA7B;;AAEA,gBAAI,KAAKqF,OAAL,CAAanB,qBAAb,EAAJ,EAAyC;AACrC,qBAAKhF,eAAL,CAAqBmB,OAArB,CAA6B,uCAA7B;AACH;AACJ;;;;;;;;;;;;;;;;;;QCpCQoF,uBAAAA,eACT,wBAAa;AAAA;;AACT,aAAKtD,MAAL,GAAc,EAAd;AACH;;ACHL;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["export class App {\n  router;\n\n  configureRouter(config, router) {\n      this.router = router;\n      config.title = 'Picture Puzzle';\n      config.options.pushState = true;\n      config.map([\n        { route: '', name: 'home', moduleId:'routes/home/home', nav:true,  title:'Home' },\n        { route: 'game', name: 'game', moduleId:'routes/game/game', nav:true,  title:'Game' },\n        { route: 'scores', name: 'scores', moduleId:'routes/scores/scores', nav:true,  title:'Scores' }\n      ]);\n      \n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-dialog', config => {\n      config.useDefaults();\n      config.settings.lock = false;\n    });\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {PicturePiecePositionChangedEvent} from './events';\r\n\r\nimport dragula from 'dragula';\r\n\r\n@inject(EventAggregator)\r\nexport class DragAndDrop {\r\n    disabled = false;\r\n\r\n\tconstructor(eventAggregator) {\r\n\r\n        this.eventAggregator = eventAggregator;\r\n        \r\n\t\tlet drake = dragula({\r\n            \r\n\t\t\tisContainer: el => {\r\n                \r\n                if (this.disabled){\r\n                    return false;\r\n                }\r\n\r\n                if (!el){\r\n                    return false;\r\n                }\r\n                \r\n\t\t\t\treturn el.classList.contains('drag-and-drop-source');\r\n            },\r\n\t\t\trevertOnSpill: true\r\n\t\t});\r\n        \r\n\t\tthis.trackDrop(drake);\r\n\t}\r\n\r\n\ttrackDrop(drake) {\r\n\t\tdrake.on('drop', (el, target, source, sibling) => {\r\n\r\n            let from = -1;\r\n            let to = -1;\r\n            \r\n            if (el){\r\n                from = el.attributes[\"data-actual-index\"].value;\r\n                console.log(`drag cancelled from ${from}`);    \r\n            }\r\n\r\n            if (sibling){\r\n                to = sibling.attributes[\"data-actual-index\"].value;\r\n                console.log(`drag cancelled to ${to}`);            \r\n            }\r\n\r\n            this.eventAggregator.publish(new PicturePiecePositionChangedEvent(from, to));\r\n\t\t\tdrake.cancel();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n","export class PicturePiecePositionChangedEvent {\r\n    \r\n    from = 0;\r\n    to = 0;\r\n\r\n    constructor(from, to) {\r\n        this.from = from;\r\n        this.to = to;\r\n    }\r\n}\r\n\r\nexport class PicturePiecesCorrectEvent {}","export function configure(config) {\n  config.globalResources(['resources/elements/nav-bar.html','resources/elements/picture/piece-view.html']);\n}\n","import {inject} from 'aurelia-framework';\nimport {Score} from '../elements/score';\nimport {DialogController} from 'aurelia-dialog';\n\n@inject(DialogController)\nexport class GameComplete {\n    score = new Score(\"\",0);\n\n    constructor(controller){\n        this.controller = controller;\n    }\n    \n    activate(score){\n        this.score = score;\n    }\n}","export class Score {\n    playerName = \"\";\n    total = 0;\n\n    constructor(playerName,total){\n        this.playerName = playerName;\n        this.total = total;\n    }\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {PicturePiecesCorrectEvent} from '../../resources/events';\nimport {Puzzle} from '../../resources/elements/puzzle/puzzle';\nimport {Score} from '../../resources/elements/score';\nimport {DialogService} from 'aurelia-dialog';\nimport {GameComplete} from '../../resources/dialogs/game-complete';\nimport {ScoreCounter} from '../../resources/score-counter';\n\n@inject(Router,EventAggregator,Puzzle,DialogService,ScoreCounter)\nexport class Game {\n\n    constructor(router, eventAggregator,puzzle, dialogService, scoreCounter){\n        this.router = router;\n        this.eventAggregator = eventAggregator;\n        this.puzzle = puzzle;\n        this.dialogService = dialogService;\n        this.scoreCounter = scoreCounter;\n\n        this.title = \"\";\n        this.playerName = \"\";\n\n        this.score = new Score(this.playerName,0);\n    }\n\n    activate(params, routeConfig){\n        this.title = routeConfig.navModel.title;\n    }\n\n    attached(){\n        this.subscriber = this.eventAggregator.subscribe(PicturePiecesCorrectEvent, evt => {\n            this.grid.completeGame();\n            console.log(\"GAME COMPLETED!\");\n\n            this.dialogService.open({ viewModel: GameComplete, model: this.score}).then(response => {\n              if (!response.wasCancelled) {\n                  this.score.playerName = response.output.playerName;\n                  this.scoreCounter.scores.push(response.output);\n                  console.log(\"response.output = %O\",response.output);\n              } \n            });\n        });\n    }\n\n    detached(){\n        this.subscriber.dispose();\n    }\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\n\n@inject(Router)\nexport class Home {\n    router;\n    title;\n\n    constructor(router){\n        this.router = router;\n        console.log(\"home::ctor::router %O\",this.router);\n    }\n\n    activate(params, routeConfig){\n        console.log(\"home::activate::routeConfig %O\",routeConfig);\n        this.title = routeConfig.navModel.title;\n    }\n}\n","import {inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {ScoreCounter} from '../../resources/score-counter';\n\n@inject(Router, ScoreCounter)\nexport class Scores {\n    router;\n    title;\n\n    constructor(router, scoreCounter){\n        this.router = router;\n        this.scoreCounter = scoreCounter;\n    }\n\n    activate(params, routeConfig){\n        this.title = routeConfig.navModel.title;\n    }\n}","export class GameState {\n    numberOfSeconds = 10;\n    numberOfMoves = 0;\n    scores = [{name:\"andy\",score:123},{name:\"spencer\",score:500}];\n    currentPlayer = \"andy\";\n}","import {Piece} from './piece';\n\nexport class Picture {\n    constructor (name, rows, columns){\n\n        this.name = name;\n        this.rows = rows;\n        this.columns = columns;\n        this.pieces = [];\n        this.numberOfCorrectPieces = 9;\n\n        this.mainImage = `${name}.png`;\n\n        for (let i = 0; i < this.rows; i++){\n            for (let j = 0; j < columns; j++){\n                console.log(\"working out the properIndex i %O j %O rows %O properIndex %O\",i,j,this.rows,(i*this.rows)+j)\n                this.pieces.push(new Piece(name,i,j,(i*this.rows)+j));\n            }\n        }\n\n        this.shufflePieces();\n    }\n\n    shufflePieces(){\n        let i = 0\n        , j = 0\n        , temp = null\n\n        for (i = this.pieces.length - 1; i > 0; i -= 1) {\n            j = Math.floor(Math.random() * (i + 1))\n            temp = this.pieces[i]\n            this.pieces[i] = this.pieces[j]\n            this.pieces[j] = temp\n        }\n\n        this.indexPieces();\n    }\n\n    movePieces(from,to){\n        this.arraymove(this.pieces,from,to);\n        this.indexPieces();\n    }\n\n    indexPieces(){\n        this.numberOfCorrectPieces = 0;\n        this.pieces.map((p,i) => p.actualIndex = i);\n        this.numberOfCorrectPieces = this.pieces.filter(p => p.actualIndex == p.properIndex).length;\n    }\n\n    picturePiecesComplete() {\n        return true;\n//        return this.numberOfCorrectPieces === this.pieces.length;\n    }\n\n    arraymove(arr, fromIndex, toIndex) {\n        var element = arr[fromIndex];\n        arr.splice(fromIndex, 1);\n        arr.splice(toIndex, 0, element);\n    }\n}\n","export class Piece {\n    constructor (name, row, column, properIndex){\n        this.name = name;\n        this.row = row;\n        this.column = column;\n        this.properIndex = properIndex;\n        this.actualIndex = properIndex;\n        this.imageName = `${name}-${column}-${row}.png`\n\n        console.log(\"created a piece %O\", this);\n    }\n}","import {bindable} from 'aurelia-framework';\n\nexport class Aside{\n    @bindable numberOfMoves;\n    @bindable picture;\n    @bindable secondsElapsed;\n}\n","import {bindable} from 'aurelia-framework';\nimport {inject} from 'aurelia-framework';\nimport {DragAndDrop} from '../../../resources/drag-and-drop';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {PicturePiecePositionChangedEvent} from '../../../resources/events';\n\n@inject(DragAndDrop,EventAggregator)\nexport class Grid {\n    @bindable puzzle;\n\n    constructor(dragAndDrop,eventAggregator){\n        this.dragAndDrop = dragAndDrop;\n        this.dragAndDrop.disabled = false;\n        this.eventAggregator = eventAggregator;\n        this.numberOfMoves = 0;\n        this.secondsElapsed = 0;\n        this.gameCompleted = false;\n\n        setInterval(() => {if (!this.gameCompleted) this.secondsElapsed++;}, 1000);\n    }\n\n    completeGame(){\n        this.gameCompleted = true;\n        this.dragAndDrop.disabled = true;\n    }\n\n    attached(){\n        this.subscriber = this.eventAggregator.subscribe(PicturePiecePositionChangedEvent, changed => {\n            this.puzzle.movePieces(changed.from,changed.to);\n            this.numberOfMoves++;\n        });\n    }\n\n    detached(){\n        this.subscriber.dispose();\n    }\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,"import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {PicturePiecesCorrectEvent} from '../../events';\nimport {Picture} from '../picture/picture';\n\n@inject(EventAggregator)\nexport class Puzzle{\n\n    constructor(aggregator){\n        this.eventAggregator = aggregator;\n        this.picture = new Picture(\"aurelia_logo\",3,3);\n    }\n\n    movePieces(from = -1,to = -1){\n\n        if (from < 0 && to < 0) return;\n        \n        if (from > -1){\n            from = this.picture.pieces.map(m => m.actualIndex).indexOf(parseInt(from,10));\n        }\n        \n        if (to > -1){\n            to = this.picture.pieces.map(m => m.actualIndex).indexOf(parseInt(to,10));\n        }\n        \n        if (to === -1){\n            to = this.picture.pieces.length - 1;\n        } else if (to > 0 && to > from) {\n            to = to -1;\n        }\n\n        this.picture.movePieces(from,to);\n\n        if (this.picture.picturePiecesComplete()){\n            this.eventAggregator.publish(new PicturePiecesCorrectEvent());\n        }\n    }\n}\n","export class ScoreCounter{\n    constructor(){\n        this.scores = [];\n    }\n}",null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}